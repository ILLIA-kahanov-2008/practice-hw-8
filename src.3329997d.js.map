{"version":3,"sources":["js/galleryItems.js","js/refs.js","js/themeSwitch.js","index.js"],"names":["galleryItems","preview","original","description","refs","galleryList","document","querySelector","modal","backdrop","modalImage","activeIndex","createGalleryCards","items","map","onModalOpen","event","preventDefault","target","classList","contains","add","src","dataset","source","forEach","element","index","includes","window","addEventListener","CloseModalByEscape","changeByArrows","onCloseModal","nodeName","remove","removeEventListener","code","key","length","console","log","innerHTML","join"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,MAAMA,EAAe,CAC1B,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DV,QAAA,aAAA;;ACAA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,MAAMC,EAAO,CAClBC,YAAaC,SAASC,cAAc,eACpCC,MAAOF,SAASC,cAAc,gBAC9BE,SAAUH,SAASC,cAAc,sBACjCG,WAAYJ,SAASC,cAAc,qBAJ9B,QAAA,KAAA;;ACqFN,aArFD,IAAA,EAAA,QAAA,kBACA,EAAA,QAAA,UAEA,IAAII,EAAc,KAKlB,SAASC,EAAmBC,GACnBA,OAAAA,EAAMC,IAAI,EAAEb,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,qEAE7BD,qCAA4CD,sBACrCC,SAAgBC,iBAQlC,SAASY,EAAYC,GACnBA,EAAMC,iBACDD,EAAME,OAAOC,UAAUC,SAAS,oBAGhCZ,EAAAA,KAAAA,MAAMW,UAAUE,IAAI,WACpBX,EAAAA,KAAAA,WAAWY,IAAMN,EAAME,OAAOK,QAAQC,OAE3CZ,EAAmBZ,EAAD,cAAeyB,QAAQ,CAACC,EAASC,KAC7CD,EAAQE,SAASZ,EAAME,OAAOI,OAChCX,EAAcgB,KAKlBE,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,IAKrC,SAASC,EAAajB,GACU,QAA1BA,EAAME,OAAOgB,WAGZxB,EAAAA,KAAAA,WAAWY,IAAM,GACjBd,EAAAA,KAAAA,MAAMW,UAAUgB,OAAO,WAC5BN,OAAOO,oBAAoB,UAAWL,GACtCF,OAAOO,oBAAoB,UAAWJ,IAGxC,SAASD,EAAmBf,GACP,WAAfA,EAAMqB,MAIVJ,IAIF,SAASD,EAAehB,GAClBA,MAAc,eAAdA,EAAMsB,KAAwB3B,EAAcX,EAAauC,aAAAA,OAAS,GACpE5B,GAAe,OACVD,EAAAA,KAAAA,WAAWY,IAAMtB,EAAaW,aAAAA,GAAaT,WAIhC,cAAdc,EAAMsB,KAAuB3B,EAAc,GAC7CA,GAAe,OACVD,EAAAA,KAAAA,WAAWY,IAAMtB,EAAaW,aAAAA,GAAaT,WAIjC,eAAdc,EAAMsB,KAAwB3B,IAAiBX,EAAauC,aAAAA,OAAS,GACtE5B,EAAc,OACVD,EAAAA,KAAAA,WAAWY,IAAMtB,EAAaW,aAAAA,GAAaT,WAI/B,cAAdc,EAAMsB,KAAuC,IAAhB3B,GAC/BA,EAAcX,EAAauC,aAAAA,OAAS,OAC/B7B,EAAAA,KAAAA,WAAWY,IAAMtB,EAAaW,aAAAA,GAAaT,gBAF9Cc,EA1ENwB,QAAQC,IAAIzC,EAAZ,cACAwC,QAAQC,IAAIrC,EAAZ,MAUAA,EAAKC,KAAAA,YAAYqC,UAAY9B,EAAmBZ,EAAD,cAAe2C,KAAK,IAEnEvC,EAAKC,KAAAA,YAAYyB,iBAAiB,QAASf,GAqB3CX,EAAKI,KAAAA,MAAMsB,iBAAiB,QAASG;;ACvCrC,aAAA,QAAA","file":"src.3329997d.js","sourceRoot":"../src","sourcesContent":["export const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];","export const refs = {\n  galleryList: document.querySelector('.js-gallery'),\n  modal: document.querySelector('.js-lightbox'),\n  backdrop: document.querySelector('.lightbox__overlay'),\n  modalImage: document.querySelector('.lightbox__image')\n}","import { galleryItems } from \"./galleryItems\";\nimport { refs } from \"./refs\";\n\nlet activeIndex = null;\n\nconsole.log(galleryItems);\nconsole.log(refs);\n\nfunction createGalleryCards(items) {\n  return items.map(({preview, original, description}) => {\n    return `<li class=\"gallery__item\"><a class=\"gallery__link\"\n    href=${original}><img class=\"gallery__image\" src=${preview}\n    data-source=${original} alt=${description} /></a></li>`;\n  })\n}\n\nrefs.galleryList.innerHTML = createGalleryCards(galleryItems).join('');\n\nrefs.galleryList.addEventListener('click', onModalOpen);\n\nfunction onModalOpen(event) {\n  event.preventDefault();\n  if (!event.target.classList.contains('gallery__image')) {\n    return;\n  }\n  refs.modal.classList.add('is-open');\n  refs.modalImage.src = event.target.dataset.source;\n\n  createGalleryCards(galleryItems).forEach((element, index) => {\n    if (element.includes(event.target.src)) {\n      activeIndex = index;\n    }\n  });\n\n\n  window.addEventListener('keydown', CloseModalByEscape);\n  window.addEventListener('keydown', changeByArrows);\n}\n\nrefs.modal.addEventListener('click', onCloseModal);\n\nfunction onCloseModal(event) {\n  if (event.target.nodeName === 'IMG') {\n    return;\n  }\n  refs.modalImage.src = '';\n  refs.modal.classList.remove('is-open');\n  window.removeEventListener('keydown', CloseModalByEscape);\n  window.removeEventListener('keydown', changeByArrows);\n}\n\nfunction CloseModalByEscape(event) {\n  if (event.code !== 'Escape') {\n    return;\n  }\n  \n  onCloseModal();  \n}\n\n\nfunction changeByArrows(event) {\n  if (event.key === 'ArrowRight' && activeIndex < galleryItems.length - 1) {\n    activeIndex += 1;\n    refs.modalImage.src = galleryItems[activeIndex].original;\n    return;\n  }\n\n  if (event.key === 'ArrowLeft' && activeIndex > 0) {\n    activeIndex -= 1;\n    refs.modalImage.src = galleryItems[activeIndex].original;\n    return;\n  }\n\n if (event.key === 'ArrowRight' && activeIndex === (galleryItems.length - 1)) {\n    activeIndex = 0;\n   refs.modalImage.src = galleryItems[activeIndex].original;\n   return;\n  }\n\n  if (event.key === 'ArrowLeft' && activeIndex === 0) {\n    activeIndex = galleryItems.length - 1;\n    refs.modalImage.src = galleryItems[activeIndex].original;\n    return;\n  }\n\n}\n","import \"./js/themeSwitch\";\n"]}